---
title: 设计模式-工厂模式
tags:
  - 设计模式
categories: code
toc: true
date: 2020-03-16 09:08:39

---

一般情况下，工厂模式分为三种更加细分的类型：简单工厂、工厂方法和抽象工厂

## 简单工厂

我们先看下面这一段代码：

```java
public String getPerson(String role) {
  Person person = null;
  if ("Boss".equals(role)) {
    person = new Boss();
  } else if ("Student".equals(role)) {
    person = new Student();
  } else if ("Teacher".equals(role)) {
    person = new Teacher();
  } else if ("Worker".equals(role)) {
    person = new Worker();
  } else {
    throw new InvalidParameterException(role + "，role is not supported");
  }
  return person.work();
}
```

这个方法根据不同的类型，创建接口的不同实现，然后再调用不同的实现方法进行返回。

为了将代码逻辑更清晰，可读性更好，我们可以将功能独立的代码封装成函数，并且为了让类的职责更加单一，还可以进一步将函数抽离到一个独立的类中，让这个类只负责对象的创建，具体的代码实现如下：

```java
public class SimpleFactory {

  public String getPerson(String role) {
    Person person = PersonFactory.createPerson(role);
    return person.work();
  }

}
//将类的创建过程抽离到一个类中
class PersonFactory {
  public static Person createPerson(String role) {
    Person person = null;
    if ("Boss".equals(role)) {
      person = new Boss();
    } else if ("Student".equals(role)) {
      person = new Student();
    } else if ("Teacher".equals(role)) {
      person = new Teacher();
    } else if ("Worker".equals(role)) {
      person = new Worker();
    } else {
      throw new InvalidParameterException(role + "，role is not supported");
    }
    return person;
  }
}
```



